@startuml

' gekozen ontwerpvraag:
' Hoe zorg je ervoor dat je bij een wijziging in de datastructuur van een externe service niet de hele applicatie hoeft aan te passen?

class BookingController {
    getBookings() : ResponseEntity<List<BookingDto>>;
    addBooking(booking: BookingDto);
}

class BookingService {
    getAllBookings() : List<BookingDto>;
    saveBooking(booking: BookingDto);
}

interface IBookingServiceFacade {
    getAllBookings() : List<BookingDto>;
    saveBooking(booking: BookingDto);
}

class BookingRepository {
    getAllBookings() : List<BookingDto>;
    saveBooking(booking: BookingDto);
    getBookingById(id: int) : BookingDto;
}


class BookingDto {
    id: int
    name: String
    location: String
}

interface ICrudRepositoryFacade<T, TPK> {
    getAll() : List<T>;
    save(item: T);
    getById(id: TPK) : T;
}

BookingController --> IBookingServiceFacade
BookingService --|> IBookingServiceFacade
BookingService --> BookingRepository

BookingController --> BookingDto
BookingService --> BookingDto
BookingRepository --> BookingDto

BookingRepository --|> ICrudRepositoryFacade

@enduml