<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="782px" preserveAspectRatio="none" style="width:1664px;height:782px;background:#FFFFFF;" version="1.1" viewBox="0 0 1664 782" width="1664px" zoomAndPan="magnify"><title>Sequentie diagram: Alternatieve bouwstenen aanbieden</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="401.584" x="632.9282" y="28.5352">Sequentie diagram: Alternatieve bouwstenen aanbieden</text><rect fill="none" height="267.1055" style="stroke:#000000;stroke-width:1.5;" width="1648.4404" x="10" y="135.9766"/><rect fill="none" height="267.1055" style="stroke:#000000;stroke-width:1.5;" width="1648.4404" x="10" y="417.082"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="50" x2="50" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="528.0332" x2="528.0332" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="725.2813" x2="725.2813" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1042.875" x2="1042.875" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1323.9551" x2="1323.9551" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1459.5596" x2="1459.5596" y1="118.9766" y2="701.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1594.9434" x2="1594.9434" y1="118.9766" y2="701.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0293" x="20" y="116.0234">Reiziger</text><ellipse cx="50.5146" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M50.5146,58.9883 L50.5146,85.9883 M37.5146,66.9883 L63.5146,66.9883 M50.5146,85.9883 L37.5146,100.9883 M50.5146,85.9883 L63.5146,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0293" x="20" y="713.7227">Reiziger</text><ellipse cx="50.5146" cy="725.1758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M50.5146,733.1758 L50.5146,760.1758 M37.5146,741.1758 L63.5146,741.1758 M50.5146,760.1758 L37.5146,775.1758 M50.5146,760.1758 L63.5146,775.1758 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.248" x="441.0332" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.0752" x="493.1196" y="91.5352">controller:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.248" x="448.0332" y="108.0234">AuthorisationController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.248" x="441.0332" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.0752" x="493.1196" y="720.7227">controller:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.248" x="448.0332" y="737.2109">AuthorisationController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.1699" x="625.2813" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3584" x="699.687" y="91.5352">service:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.1699" x="632.2813" y="108.0234">AuthorisationServiceFacade</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.1699" x="625.2813" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3584" x="699.687" y="720.7227">service:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.1699" x="632.2813" y="737.2109">AuthorisationServiceFacade</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3711" x="962.875" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4189" x="1022.3511" y="91.5352">client:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3711" x="969.875" y="108.0234">IdentityProviderClient</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3711" x="962.875" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.4189" x="1022.3511" y="720.7227">client:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3711" x="969.875" y="737.2109">IdentityProviderClient</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.6045" x="1270.9551" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.1309" x="1291.6919" y="91.5352">response:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6045" x="1277.9551" y="108.0234">JsonResponse</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.6045" x="1270.9551" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.1309" x="1291.6919" y="720.7227">response:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6045" x="1277.9551" y="737.2109">JsonResponse</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.3838" x="1388.5596" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0664" x="1417.7183" y="91.5352">external api:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3838" x="1395.5596" y="108.0234">IdentityProviderApi</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.3838" x="1388.5596" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0664" x="1417.7183" y="720.7227">external api:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3838" x="1395.5596" y="737.2109">IdentityProviderApi</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.4971" x="1541.9434" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.0527" x="1584.1655" y="91.5352">db:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.4971" x="1548.9434" y="108.0234">JdbcTemplate</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.4971" x="1541.9434" y="700.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.0527" x="1584.1655" y="720.7227">db:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.4971" x="1548.9434" y="737.2109">JdbcTemplate</text><path d="M10,135.9766 L113.6841,135.9766 L113.6841,143.2871 L103.6841,153.2871 L10,153.2871 L10,135.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="267.1055" style="stroke:#000000;stroke-width:1.5;" width="1648.4404" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58.6841" x="25" y="149.5449">Inloggen</text><polygon fill="#181818" points="516.1572,185.9082,526.1572,189.9082,516.1572,193.9082,520.1572,189.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5146" x2="522.1572" y1="189.9082" y2="189.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="57.5146" y="177.5107">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.6484" x="70.0903" y="169.8555">POST /authorisation/login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401.1909" x="86.5435" y="185.166">loginDto = { "username":"edevries", "password":"3g2Rw9sT1x" }</text><polygon fill="#181818" points="713.3662,215.2188,723.3662,219.2188,713.3662,223.2188,717.3662,219.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.1572" x2="719.3662" y1="219.2188" y2="219.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="535.1572" y="214.4766">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="547.7329" y="214.4766">login(loginDto)</text><polygon fill="#181818" points="1031.0605,244.5293,1041.0605,248.5293,1031.0605,252.5293,1035.0605,248.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.3662" x2="1037.0605" y1="248.5293" y2="248.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="732.3662" y="243.7871">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.8271" x="744.9419" y="243.7871">result = login(loginDto)</text><polygon fill="#181818" points="1448.2515,273.8398,1458.2515,277.8398,1448.2515,281.8398,1452.2515,277.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.0605" x2="1454.2515" y1="277.8398" y2="277.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="1050.0605" y="273.0977">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.8647" x="1062.6362" y="273.0977">response = UniRest.post()</text><polygon fill="#181818" points="1312.7573,303.1504,1322.7573,307.1504,1312.7573,311.1504,1316.7573,307.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.0605" x2="1318.7573" y1="307.1504" y2="307.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="1050.0605" y="302.4082">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.5454" x="1062.6362" y="302.4082">result = new JsonResponse(response)</text><polygon fill="#181818" points="1583.1919,332.4609,1593.1919,336.4609,1583.1919,340.4609,1587.1919,336.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.3662" x2="1589.1919" y1="336.4609" y2="336.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="732.3662" y="331.7188">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.4922" x="744.9419" y="331.7188">save(loginDto)</text><polygon fill="#181818" points="539.1572,361.7715,529.1572,365.7715,539.1572,369.7715,535.1572,365.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.1572" x2="724.3662" y1="365.7715" y2="365.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="545.1572" y="361.0293">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.877" x="557.7329" y="361.0293">result</text><polygon fill="#181818" points="61.5146,391.082,51.5146,395.082,61.5146,399.082,57.5146,395.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5146" x2="527.1572" y1="395.082" y2="395.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="67.5146" y="390.3398">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.0781" x="80.0903" y="390.3398">200 OK (een cookie met ingelogde status)</text><path d="M10,417.082 L158.6064,417.082 L158.6064,424.3926 L148.6064,434.3926 L10,434.3926 L10,417.082 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="267.1055" style="stroke:#000000;stroke-width:1.5;" width="1648.4404" x="10" y="417.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103.6064" x="25" y="430.6504">Check Ingelogd</text><polygon fill="#181818" points="516.1572,467.0137,526.1572,471.0137,516.1572,475.0137,520.1572,471.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5146" x2="522.1572" y1="471.0137" y2="471.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="57.5146" y="458.6162">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.8555" x="70.0903" y="450.9609">GET /authorisation/logged-in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="424.6138" x="86.5435" y="466.2715">cookie: login-token="f3126624-9db2-456f-8e5f-1974d636c988"</text><polygon fill="#181818" points="713.3662,496.3242,723.3662,500.3242,713.3662,504.3242,717.3662,500.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="528.1572" x2="719.3662" y1="500.3242" y2="500.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.1572" y="495.582">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9956" x="556.3086" y="495.582">isLoggedIn(loginToken)</text><polygon fill="#181818" points="1583.1919,525.6348,1593.1919,529.6348,1583.1919,533.6348,1587.1919,529.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.3662" x2="1589.1919" y1="529.6348" y2="529.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="732.3662" y="524.8926">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.8594" x="753.5176" y="524.8926">username = findByToken(loginToken)</text><polygon fill="#181818" points="1031.0605,554.9453,1041.0605,558.9453,1031.0605,562.9453,1035.0605,558.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.3662" x2="1037.0605" y1="558.9453" y2="558.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="732.3662" y="554.2031">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.543" x="753.5176" y="554.2031">result = isLoggedIn(loginToken, username)</text><polygon fill="#181818" points="1448.2515,584.2559,1458.2515,588.2559,1448.2515,592.2559,1452.2515,588.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.0605" x2="1454.2515" y1="588.2559" y2="588.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1050.0605" y="583.5137">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.8647" x="1071.2119" y="583.5137">response = UniRest.post()</text><polygon fill="#181818" points="1312.7573,613.5664,1322.7573,617.5664,1312.7573,621.5664,1316.7573,617.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.0605" x2="1318.7573" y1="617.5664" y2="617.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1050.0605" y="612.8242">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.5454" x="1071.2119" y="612.8242">result = new JsonResponse(response)</text><polygon fill="#181818" points="539.1572,642.877,529.1572,646.877,539.1572,650.877,535.1572,646.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="533.1572" x2="724.3662" y1="646.877" y2="646.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.1572" y="642.1348">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.877" x="566.3086" y="642.1348">result</text><polygon fill="#181818" points="61.5146,672.1875,51.5146,676.1875,61.5146,680.1875,57.5146,676.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5146" x2="527.1572" y1="676.1875" y2="676.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="67.5146" y="671.4453">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.48" x="88.666" y="671.4453">200 OK true (is ingeloged)</text><!--SRC=[lPDBRzf058Nt_XLNNX4fRi8Z52nHYTA7qbPA17INpTXpSKQO6NVc6f9M_U-zVW6ciEcYNitZddjcpZScHId20d_ag4aXI2KIApOXJ5D2gmMlRH4Ya-ySeKODGkX8eKJjUI8cOs6EwgTAqF8y9wFpJLICCs59nIeJcY0scgn9KxGW7FY7QVYafpaz6wiS6nazs-_uhGOExLR5MAhhyQbqKIr_4h6Gs5R7gUAxLTRbaBNtihWklJvQirKIxQpSQEiikineLzas4zP-SKRFwsbR8J9L5kDBcLrQB9mncsQghPE2H2Hg9naL7ZAAbxZ9Ka7iuINMv1dSwzGa2IVVH0x1kwDmGtXyM2pXHXpdSiCIfU590t_b-0CPcC0ly7DN77A3VkWppwrLwFnhy3FXtCvOoSlzf3VVZTso- -B3RyyxuiZ63OYgQwVfVUKrj8h3LNaNKUOfiUrfRSs6Iuke3f5FuBjM73AzoOoZpd7XdiIXgyOT75FfD3MjmpGfX-345iyT-2JEgd_hsbpHX1z2x_OM7hv21_ctY8rPy- -pGGAb4-Jc4i6HeDnTUHvgsK2SFMEyPfHLZNUHvUUFvr0cA8Czpigp1X2GMQEU-Aj-jpSSzWR1M4QzO70tN0KZl5i5tV7RWHpsX_5uDF8libJkMsboNqDQ5aqlfDYy7mQmKbg-VosBB-d-UWfdhQxtNV_ds_WtxcHpX8vo3N2KJBf4_GS0]--></g></svg>